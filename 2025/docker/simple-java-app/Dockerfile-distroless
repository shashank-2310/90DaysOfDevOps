# Stage 1: Build stage (full JDK with compiler)
FROM openjdk:27-ea-slim-trixie AS builder
WORKDIR /app
COPY app.java .
RUN javac app.java
# Stage 2: Distroless image
FROM gcr.io/distroless/java17-debian12
COPY --from=builder /app/app.class .
CMD ["app"]